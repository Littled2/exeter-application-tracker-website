<!DOCTYPE html>
<!-- saved from url=(0053)https://pocketbase.io/docs/js-records/#auth-accessors -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <meta name="description" content="Open Source backend in 1 file with realtime database, authentication, file storage and admin dashboard">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="PocketBase - Open Source backend in 1 file">
    <meta property="og:description" content="Open Source backend in 1 file with realtime database, authentication, file storage and admin dashboard">
    <meta property="og:image" content="/images/og.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="PocketBase - Open Source backend in 1 file">
    <meta property="twitter:description" content="Open Source backend in 1 file with realtime database, authentication, file storage and admin dashboard">
    <meta property="twitter:image" content="/images/og.png">

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://pocketbase.io/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://pocketbase.io/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://pocketbase.io/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="https://pocketbase.io/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="https://pocketbase.io/images/favicon/safari-pinned-tab.svg" color="#000000">
    <link rel="shortcut icon" href="https://pocketbase.io/images/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/images/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- preload -->
    <link rel="preload" href="https://pocketbase.io/fonts/source-sans-pro/source-sans-pro-v18-latin_cyrillic-regular.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://pocketbase.io/fonts/source-sans-pro/source-sans-pro-v18-latin_cyrillic-600.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://pocketbase.io/fonts/source-sans-pro/source-sans-pro-v18-latin_cyrillic-700.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://pocketbase.io/fonts/source-sans-pro/source-sans-pro-v18-latin_cyrillic-italic.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://pocketbase.io/fonts/ubuntu-mono/ubuntu-mono-v17-cyrillic_latin-regular.woff2" as="font" type="font/woff2" crossorigin="">

    <script>
        // CSS3 animations support check
        (function () {
            if (typeof document === "undefined") {
                return; // serverside rendering
            }

            let elem = document.createElement("div");
            let hasAnimation = elem.style.animationName !== undefined;

            if (!hasAnimation) {
                document.documentElement.classList.add("no-animations");
            }
        })();
    </script>

    <script>
        // silent svelte console errors
        if (typeof window === "undefined") {
            window = {};
        }
        window.Prism = window.Prism || {};
        window.Prism.manual = true;

        if (typeof navigator !== "undefined" && navigator.userAgentData) {
            navigator.userAgentData.getHighEntropyValues([
                "architecture",
            ]).then((ua) => {
                window.UA_ARCHITECTURE = ua.architecture
            });
        }
    </script>

    
		<link href="./Extend with JavaScript - Record operations - Docs - PocketBase_files/main.wetPR-Rc.css" rel="stylesheet">
		<link href="./Extend with JavaScript - Record operations - Docs - PocketBase_files/59.rRknTLDP.css" rel="stylesheet">
		<link href="./Extend with JavaScript - Record operations - Docs - PocketBase_files/CodeBlock.CoG5ZhIt.css" rel="stylesheet">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/entry/start.CrV_8a6H.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/entry.C8GxkOcC.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/scheduler.CIBm_uAo.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/index.C_r8Y1bj.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/entry/app.BSf4m8YZ.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/index.Bk1psxcA.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/nodes/0.D5dk1Npj.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/nodes/5.Dl2jeKgr.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/nodes/59.BQeZWIFR.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/each.B9e1KTVn.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/tooltip.RC_5fCRL.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/CommonHelper.ucxL7p6H.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/preferences.DG8ZZmb2.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/PageFooter.IdhnfcrX.js">
		<link rel="modulepreload" href="https://pocketbase.io/docs/js-records/_app/immutable/chunks/CodeBlock.dQyxD2KO.js"><title>Extend with JavaScript - Record operations - Docs - PocketBase</title>

    <script src="./Extend with JavaScript - Record operations - Docs - PocketBase_files/pagefind-ui.js.download"></script>
<link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/1.BjiKb9NA.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/chunks/stores.B586jFQS.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/2.D7DYhUaf.js"><link rel="stylesheet" crossorigin="" href="./Extend with JavaScript - Record operations - Docs - PocketBase_files/2.CShZuLqV.css"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/3.Di8O8Yob.js"><link rel="stylesheet" crossorigin="" href="./Extend with JavaScript - Record operations - Docs - PocketBase_files/3.BJdqDXbV.css"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/6.C7l8ocH2.js"><link rel="stylesheet" crossorigin="" href="./Extend with JavaScript - Record operations - Docs - PocketBase_files/6.p_aZJzRV.css"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/53.ZtOcCf9a.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/chunks/HeadingLink.CMqVM8fW.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/chunks/Toc.DAAHaTKG.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/47.Bbk3S5Ci.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/51.CMVQaKXR.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/chunks/CodeTabs.D2atnPNe.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/42.CUwUn0h8.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/chunks/Accordion.BH4zJPpU.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/chunks/event_hooks.BpvYKxuY.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/41.BA7WU7TD.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/chunks/TransactionInfoJS.BWDhpzlK.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/56.DKRYYOtx.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/49.C2eea18U.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/nodes/39.B52BnsC1.js"><link rel="modulepreload" as="script" crossorigin="" href="https://pocketbase.io/_app/immutable/chunks/field_names.CoXHQe6N.js"></head>
<body class="loaded">
    <div class="page-body"><header class="page-header"><div class="wrapper wrapper-lg"><div class="header-section left"><a href="https://pocketbase.io/" class="logo logo-sm" data-sveltekit-preload-data=""><img src="./Extend with JavaScript - Record operations - Docs - PocketBase_files/logo.svg" alt="PocketBase logo" width="40" height="40"> <span class="txt">Pocket<strong>Base</strong></span> <span class="version">v0.24.1</span></a></div> <div class="header-section center"><div tabindex="-1" class="form-field searchbar"><div class="form-field-addon prefix"><i class="ri-search-line"></i></div>  <input type="text" class="searchbar-input" placeholder="Search..."> <div tabindex="-1" class="dropdown searchbar-dropdown"><div class="tabs-header compact"><button type="button" class="tab-item">Go</button> <button type="button" class="tab-item active">JavaScript</button></div> <div id="pagefind_searchi7clQ"><div class="pagefind-ui svelte-e9gkc3"><form class="pagefind-ui__form svelte-e9gkc3" role="search" aria-label="Search this site" action="javascript:void(0);"><input class="pagefind-ui__search-input svelte-e9gkc3" type="text" placeholder="Search" autocapitalize="none" enterkeyhint="search"> <button class="pagefind-ui__search-clear svelte-e9gkc3 pagefind-ui__suppressed">Clear</button> <div class="pagefind-ui__drawer svelte-e9gkc3 pagefind-ui__hidden"> </div></form></div></div></div></div></div> <div class="header-section right"><button type="button" class="btn btn-circle btn-secondary responsive-menu-btn" title="Menu" aria-expanded="false"><span></span> <i class="ri-menu-3-fill"></i> <div class="toggler-container" tabindex="-1" role="menu"></div></button> <nav class="main-menu"><a href="https://pocketbase.io/faq" class="btn btn-secondary" data-sveltekit-preload-data="">FAQ</a> <a href="https://github.com/pocketbase/pocketbase" class="btn btn-circle btn-secondary" target="_blank" rel="noreferrer noopener" title="GitHub Repo"><i class="ri-github-line"></i></a> <a href="https://pocketbase.io/docs" class="btn btn-outline" data-sveltekit-preload-data=""><span class="txt">Documentation</span></a></nav></div></div></header> <main class="wrapper wrapper-lg page-content-wrapper"> <aside class="page-sidebar highlight docs-sidebar"><div class="sticky-wrapper svelte-kkdbbm"><div class="sidebar-content"><nav class="sidebar-list"><a href="https://pocketbase.io/docs" class="list-item"> <span class="icon"><i class="ri-home-2-line"></i></span> <span class="txt">Introduction</span> </a> <a href="https://pocketbase.io/docs/going-to-production" class="list-item"> <span class="icon"><i class="ri-check-double-line"></i></span> <span class="txt">Going to production</span> </a> <a href="https://pocketbase.io/docs/api-records" class="list-item"> <span class="icon"><i class="ri-file-list-2-line"></i></span> <span class="txt">Web APIs reference</span> </a> </nav> <div class="clearfix m-t-base"></div> <div class="sidebar-bg-section"><div class="tabs-header stretched compact"><a class="tab-item" href="https://pocketbase.io/docs/go-overview"><div class="block">Extend with
                            <br> <strong>Go</strong></div></a> <a class="tab-item active" href="https://pocketbase.io/docs/js-overview"><div class="block">Extend with
                            <br> <strong>JavaScript</strong></div></a></div> <div class="tabs-content"><div class="tab-item"><nav class="sidebar-list"><a href="https://pocketbase.io/docs/go-overview" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Overview</span> </a> <a href="https://pocketbase.io/docs/go-event-hooks" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Event hooks</span> </a> <a href="https://pocketbase.io/docs/go-routing" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Routing</span> </a> <a href="https://pocketbase.io/docs/go-database" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Database</span> </a> <a href="https://pocketbase.io/docs/go-records" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Record operations</span> </a> <a href="https://pocketbase.io/docs/go-collections" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Collection operations</span> </a> <a href="https://pocketbase.io/docs/go-migrations" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Migrations</span> </a> <a href="https://pocketbase.io/docs/go-jobs-scheduling" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Jobs scheduling</span> </a> <a href="https://pocketbase.io/docs/go-sending-emails" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Sending emails</span> </a> <a href="https://pocketbase.io/docs/go-rendering-templates" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Rendering templates</span> </a> <a href="https://pocketbase.io/docs/go-console-commands" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Console commands</span> </a> <a href="https://pocketbase.io/docs/go-realtime" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Realtime messaging</span> </a> <a href="https://pocketbase.io/docs/go-filesystem" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Filesystem</span> </a> <a href="https://pocketbase.io/docs/go-logging" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Logging</span> </a> <a href="https://pocketbase.io/docs/go-testing" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Testing</span> </a> <a href="https://pocketbase.io/docs/go-miscellaneous" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Miscellaneous</span> </a> <a href="https://pocketbase.io/docs/go-record-proxy" class="list-item"><span class="label label-sm label-info svelte-kkdbbm">Go</span>  <span class="txt">Record proxy</span> </a> </nav></div> <div class="tab-item active"><nav class="sidebar-list"><a href="https://pocketbase.io/docs/js-overview" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Overview</span> </a> <a href="https://pocketbase.io/docs/js-event-hooks" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Event hooks</span> </a> <a href="https://pocketbase.io/docs/js-routing" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Routing</span> </a> <a href="https://pocketbase.io/docs/js-database" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Database</span> </a> <a href="https://pocketbase.io/docs/js-records" class="list-item active"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Record operations</span> </a> <a href="https://pocketbase.io/docs/js-collections" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Collection operations</span> </a> <a href="https://pocketbase.io/docs/js-migrations" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Migrations</span> </a> <a href="https://pocketbase.io/docs/js-jobs-scheduling" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Jobs scheduling</span> </a> <a href="https://pocketbase.io/docs/js-sending-emails" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Sending emails</span> </a> <a href="https://pocketbase.io/docs/js-rendering-templates" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Rendering templates</span> </a> <a href="https://pocketbase.io/docs/js-console-commands" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Console commands</span> </a> <a href="https://pocketbase.io/docs/js-sending-http-requests" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Sending HTTP requests</span> </a> <a href="https://pocketbase.io/docs/js-realtime" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Realtime messaging</span> </a> <a href="https://pocketbase.io/docs/js-filesystem" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Filesystem</span> </a> <a href="https://pocketbase.io/docs/js-logging" class="list-item"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Logging</span> </a> <a href="https://pocketbase.io/jsvm/index.html" class="list-item" target="_blank" rel="noopener noreferrer"><span class="label label-sm label-warning svelte-kkdbbm">JS</span>  <span class="txt">Types reference</span> </a> </nav></div></div></div></div></div></aside> <div class="page-content"><nav class="breadcrumbs"><div class="breadcrumb-item">Extend with JavaScript - Record operations</div></nav> <div class="content" data-pagefind-body="" data-tag-javascript="javascript" data-tag-go="go" data-tag-other="other" data-pagefind-filter="tag[data-tag-javascript],tag[data-tag-other]"><span class="hidden" data-pagefind-meta="title">Record operations</span> <p>The most common task when extending PocketBase probably would be querying and working with your collection
    records.</p> <p>You could find detailed documentation about all the supported Record model methods in
    <a href="https://pocketbase.io/jsvm/interfaces/core.Record.html" target="_blank" rel="noopener noreferrer"><code>core.Record</code></a>
    type interface but below are some examples with the most common ones.</p> <div class="toc"><ul class="toc-list-1"><li><a href="https://pocketbase.io/docs/js-records/#set-field-value">Set field value</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#get-field-value">Get field value</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#auth-accessors">Auth accessors</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#copies">Copies</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#hideunhide-fields">Hide/Unhide fields</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#fetch-records">Fetch records</a> <ul class="toc-list-2"><li><a href="https://pocketbase.io/docs/js-records/#fetch-single-record">Fetch single record</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#fetch-multiple-records">Fetch multiple records</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#fetch-auth-records">Fetch auth records</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#custom-record-query">Custom record query</a>  </li></ul> </li><li><a href="https://pocketbase.io/docs/js-records/#create-new-record">Create new record</a> <ul class="toc-list-2"><li><a href="https://pocketbase.io/docs/js-records/#create-new-record-programmatically">Create new record programmatically</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#intercept-create-request">Intercept create request</a>  </li></ul> </li><li><a href="https://pocketbase.io/docs/js-records/#update-existing-record">Update existing record</a> <ul class="toc-list-2"><li><a href="https://pocketbase.io/docs/js-records/#update-existing-record-programmatically">Update existing record programmatically</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#intercept-update-request">Intercept update request</a>  </li></ul> </li><li><a href="https://pocketbase.io/docs/js-records/#delete-record">Delete record</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#transaction">Transaction</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#programmatically-expanding-relations">Programmatically expanding relations</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#check-if-record-can-be-accessed">Check if record can be accessed</a>  </li><li><a href="https://pocketbase.io/docs/js-records/#generating-and-validating-tokens">Generating and validating tokens</a>  </li></ul></div> <h3 id="set-field-value" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#set-field-value" class="link-primary"> Set field value </a></h3> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token comment">// sets the value of a single record field</span>
<span class="token comment">// (field type specific modifiers are also supported)</span>
record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token string">"example"</span><span class="token punctuation">)</span>
record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"users+"</span><span class="token punctuation">,</span> <span class="token string">"6jyr1y02438et52"</span><span class="token punctuation">)</span> <span class="token comment">// append to existing value</span>

<span class="token comment">// populates a record from a data map</span>
<span class="token comment">// (calls set() for each entry of the map)</span>
record<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></code></div> <h3 id="get-field-value" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#get-field-value" class="link-primary"> Get field value </a></h3> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token comment">// retrieve a single record field value</span>
<span class="token comment">// (field specific modifiers are also supported)</span>
record<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"someField"</span><span class="token punctuation">)</span>            <span class="token comment">// -&gt; any (without cast)</span>
record<span class="token punctuation">.</span><span class="token function">getBool</span><span class="token punctuation">(</span><span class="token string">"someField"</span><span class="token punctuation">)</span>        <span class="token comment">// -&gt; cast to bool</span>
record<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"someField"</span><span class="token punctuation">)</span>      <span class="token comment">// -&gt; cast to string</span>
record<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"someField"</span><span class="token punctuation">)</span>         <span class="token comment">// -&gt; cast to int</span>
record<span class="token punctuation">.</span><span class="token function">getFloat</span><span class="token punctuation">(</span><span class="token string">"someField"</span><span class="token punctuation">)</span>       <span class="token comment">// -&gt; cast to float64</span>
record<span class="token punctuation">.</span><span class="token function">getDateTime</span><span class="token punctuation">(</span><span class="token string">"someField"</span><span class="token punctuation">)</span>    <span class="token comment">// -&gt; cast to types.DateTime</span>
record<span class="token punctuation">.</span><span class="token function">getStringSlice</span><span class="token punctuation">(</span><span class="token string">"someField"</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; cast to []string</span>

<span class="token comment">// retrieve the new uploaded files</span>
<span class="token comment">// (e.g. for inspecting and modifying the file(s) before save)</span>
record<span class="token punctuation">.</span><span class="token function">getUploadedFiles</span><span class="token punctuation">(</span><span class="token string">"someFileField"</span><span class="token punctuation">)</span>

<span class="token comment">// unmarshal a single json field value into the provided result</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DynamicModel</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
record<span class="token punctuation">.</span><span class="token function">unmarshalJSONField</span><span class="token punctuation">(</span><span class="token string">"someJsonField"</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>

<span class="token comment">// retrieve a single or multiple expanded data</span>
record<span class="token punctuation">.</span><span class="token function">expandedOne</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">)</span>     <span class="token comment">// -&gt; as null|Record</span>
record<span class="token punctuation">.</span><span class="token function">expandedAll</span><span class="token punctuation">(</span><span class="token string">"categories"</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; as []Record</span>

<span class="token comment">// export all the public safe record fields in a plain object</span>
<span class="token comment">// (note: "json" type field values are exported as raw bytes array)</span>
record<span class="token punctuation">.</span><span class="token function">publicExport</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></div> <h3 id="auth-accessors" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#auth-accessors" class="link-primary"> Auth accessors </a></h3> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i">record<span class="token punctuation">.</span><span class="token function">isSuperuser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// alias for record.collection().name == "_superusers"</span>

record<span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// alias for record.get("email")</span>
record<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span> <span class="token comment">// alias for record.set("email", email)</span>

record<span class="token punctuation">.</span><span class="token function">verified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment">// alias for record.get("verified")</span>
record<span class="token punctuation">.</span><span class="token function">setVerified</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// alias for record.set("verified", false)</span>

record<span class="token punctuation">.</span><span class="token function">tokenKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// alias for record.get("tokenKey")</span>
record<span class="token punctuation">.</span><span class="token function">setTokenKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>  <span class="token comment">// alias for record.set("tokenKey", key)</span>
record<span class="token punctuation">.</span><span class="token function">refreshTokenKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// alias for record.set("tokenKey:autogenerate", "")</span>

record<span class="token punctuation">.</span><span class="token function">validatePassword</span><span class="token punctuation">(</span>pass<span class="token punctuation">)</span>
record<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>pass<span class="token punctuation">)</span>   <span class="token comment">// alias for record.set("password", pass)</span>
record<span class="token punctuation">.</span><span class="token function">setRandomPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// sets cryptographically random 30 characters string as password</span></code></div> <h3 id="copies" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#copies" class="link-primary"> Copies </a></h3> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token comment">// returns a shallow copy of the current record model populated</span>
<span class="token comment">// with its ORIGINAL db data state and everything else reset to the defaults</span>
<span class="token comment">// (usually used for comparing old and new field values)</span>
record<span class="token punctuation">.</span><span class="token function">original</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// returns a shallow copy of the current record model populated</span>
<span class="token comment">// with its LATEST data state and everything else reset to the defaults</span>
<span class="token comment">// (aka. no expand, no custom fields and with default visibility flags)</span>
record<span class="token punctuation">.</span><span class="token function">fresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// returns a shallow copy of the current record model populated</span>
<span class="token comment">// with its ALL collection and custom fields data, expand and visibility flags</span>
record<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></div> <h3 id="hideunhide-fields" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#hideunhide-fields" class="link-primary"> Hide/Unhide fields </a></h3> <p>Collection fields can be marked as "Hidden" from the Dashboard to prevent regular user access to the field
    values.</p> <p>Record models provide an option to further control the fields serialization visibility in addition to the
    "Hidden" fields option using the
    <a href="https://pocketbase.io/jsvm/interfaces/core.Record.html#hide" target="_blank" rel="noopener noreferrer"><code>record.hide(fieldNames...)</code></a>
    and
    <a href="https://pocketbase.io/jsvm/interfaces/core.Record.html#unhide" target="_blank" rel="noopener noreferrer"><code>record.unhide(fieldNames...)</code></a>
    methods.</p> <p>Often the <code>hide/unhide</code> methods are used in combination with the <code>onRecordEnrich</code> hook
    invoked on every record enriching (list, view, create, update, realtime change, etc.). For example:</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token function">onRecordEnrich</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// dynamically show/hide a record field depending on whether the current</span>
    <span class="token comment">// authenticated user has a certain "role" (or any other field constraint)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
        <span class="token operator">!</span>e<span class="token punctuation">.</span>requestInfo<span class="token punctuation">.</span>auth <span class="token operator">||</span>
        <span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token punctuation">.</span>requestInfo<span class="token punctuation">.</span>auth<span class="token punctuation">.</span><span class="token function">isSuperuser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>requestInfo<span class="token punctuation">.</span>auth<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"role"</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">"staff"</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span>record<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token string">"someStaffOnlyField"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    e<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"articles"</span><span class="token punctuation">)</span></code></div> <div class="alert alert-info m-t-sm"><div class="icon"><i class="ri-information-line"></i></div> <div class="content"><p>For custom fields, not part of the record collection schema, it is required to call explicitly
            <code>record.withCustomData(true)</code> to allow them in the public serialization.</p></div></div> <h3 id="fetch-records" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#fetch-records" class="link-primary"> Fetch records </a></h3> <h5 id="fetch-single-record" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#fetch-single-record" class="link-primary"> Fetch single record </a></h5> <p class="txt-hint">All single record retrieval methods throw an error if no record is found.</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token comment">// retrieve a single "articles" record by its id</span>
<span class="token keyword">let</span> record <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findRecordById</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span> <span class="token string">"RECORD_ID"</span><span class="token punctuation">)</span>

<span class="token comment">// retrieve a single "articles" record by a single key-value pair</span>
<span class="token keyword">let</span> record <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findFirstRecordByData</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span> <span class="token string">"slug"</span><span class="token punctuation">,</span> <span class="token string">"test"</span><span class="token punctuation">)</span>

<span class="token comment">// retrieve a single "articles" record by a string filter expression</span>
<span class="token comment">// (NB! use "{:placeholder}" to safely bind untrusted user input parameters)</span>
<span class="token keyword">let</span> record <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findFirstRecordByFilter</span><span class="token punctuation">(</span>
    <span class="token string">"articles"</span><span class="token punctuation">,</span>
    <span class="token string">"status = 'public' &amp;&amp; category = {:category}"</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string-property property">"category"</span><span class="token operator">:</span> <span class="token string">"news"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span></code></div> <h5 id="fetch-multiple-records" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#fetch-multiple-records" class="link-primary"> Fetch multiple records </a></h5> <p class="txt-hint">All multiple records retrieval methods return an empty array if no records are found.</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token comment">// retrieve multiple "articles" records by their ids</span>
<span class="token keyword">let</span> records <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findRecordsByIds</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"RECORD_ID1"</span><span class="token punctuation">,</span> <span class="token string">"RECORD_ID2"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// retrieve the total number of "articles" records in a collection with optional dbx expressions</span>
<span class="token keyword">let</span> totalPending <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">countRecords</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span> $dbx<span class="token punctuation">.</span><span class="token function">hashExp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token string">"pending"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// retrieve multiple "articles" records with optional dbx expressions</span>
<span class="token keyword">let</span> records <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findAllRecords</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span>
    $dbx<span class="token punctuation">.</span><span class="token function">exp</span><span class="token punctuation">(</span><span class="token string">"LOWER(username) = {:username}"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"John.Doe"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    $dbx<span class="token punctuation">.</span><span class="token function">hashExp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token string">"pending"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment">// retrieve multiple paginated "articles" records by a string filter expression</span>
<span class="token comment">// (NB! use "{:placeholder}" to safely bind untrusted user input parameters)</span>
<span class="token keyword">let</span> records <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findRecordsByFilter</span><span class="token punctuation">(</span>
    <span class="token string">"articles"</span><span class="token punctuation">,</span>                                    <span class="token comment">// collection</span>
    <span class="token string">"status = 'public' &amp;&amp; category = {:category}"</span><span class="token punctuation">,</span> <span class="token comment">// filter</span>
    <span class="token string">"-publised"</span><span class="token punctuation">,</span>                                   <span class="token comment">// sort</span>
    <span class="token number">10</span><span class="token punctuation">,</span>                                            <span class="token comment">// limit</span>
    <span class="token number">0</span><span class="token punctuation">,</span>                                             <span class="token comment">// offset</span>
    <span class="token punctuation">{</span> <span class="token string-property property">"category"</span><span class="token operator">:</span> <span class="token string">"news"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>                        <span class="token comment">// optional filter params</span>
<span class="token punctuation">)</span></code></div> <h5 id="fetch-auth-records" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#fetch-auth-records" class="link-primary"> Fetch auth records </a></h5> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token comment">// retrieve a single auth record by its email</span>
<span class="token keyword">let</span> user <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findAuthRecordByEmail</span><span class="token punctuation">(</span><span class="token string">"users"</span><span class="token punctuation">,</span> <span class="token string">"test@example.com"</span><span class="token punctuation">)</span>

<span class="token comment">// retrieve a single auth record by JWT</span>
<span class="token comment">// (you could also specify an optional list of accepted token types)</span>
<span class="token keyword">let</span> user <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findAuthRecordByToken</span><span class="token punctuation">(</span><span class="token string">"YOUR_TOKEN"</span><span class="token punctuation">,</span> <span class="token string">"auth"</span><span class="token punctuation">)</span></code></div> <h5 id="custom-record-query" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#custom-record-query" class="link-primary"> Custom record query </a></h5> <p>In addition to the above query helpers, you can also create custom Record queries using
    <a href="https://pocketbase.io/jsvm/functions/_app.recordQuery.html" target="_blank" rel="noopener noreferrer"><code>$app.recordQuery(collection)</code></a>
    method. It returns a SELECT DB builder that can be used with the same methods described in the
    <a href="https://pocketbase.io/docs/js-database">Database guide</a>.</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token keyword">function</span> <span class="token function">findTopArticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> record <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Record</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    $app<span class="token punctuation">.</span><span class="token function">recordQuery</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">andWhere</span><span class="token punctuation">(</span>$dbx<span class="token punctuation">.</span><span class="token function">hashExp</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token string">"active"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token string">"rank ASC"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span>

    <span class="token keyword">return</span> record
<span class="token punctuation">}</span>

<span class="token keyword">let</span> article <span class="token operator">=</span> <span class="token function">findTopArticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></div> <p>For retrieving <strong>multiple</strong> Record models with the <code>all()</code> executor, you can use
    <code>arrayOf(new Record)</code>
    to create an array placeholder in which to populate the resolved DB result.</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token comment">// the below is identical to</span>
<span class="token comment">// $app.findRecordsByFilter("articles", "status = 'active'", '-published', 10)</span>
<span class="token comment">// but allows more advanced use cases and filtering (aggregations, subqueries, etc.)</span>
<span class="token keyword">function</span> <span class="token function">findLatestArticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> records <span class="token operator">=</span> <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Record</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    $app<span class="token punctuation">.</span><span class="token function">recordQuery</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">andWhere</span><span class="token punctuation">(</span>$dbx<span class="token punctuation">.</span><span class="token function">hashExp</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string-property property">"status"</span><span class="token operator">:</span> <span class="token string">"active"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token string">"published DESC"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>records<span class="token punctuation">)</span>

    <span class="token keyword">return</span> records
<span class="token punctuation">}</span>

<span class="token keyword">let</span> articles <span class="token operator">=</span> <span class="token function">findLatestArticles</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></div> <h3 id="create-new-record" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#create-new-record" class="link-primary"> Create new record </a></h3> <h5 id="create-new-record-programmatically" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#create-new-record-programmatically" class="link-primary"> Create new record programmatically </a></h5> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token keyword">let</span> collection <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findCollectionByNameOrId</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> record <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Record</span><span class="token punctuation">(</span>collection<span class="token punctuation">)</span>

record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token string">"Lorem ipsum"</span><span class="token punctuation">)</span>
record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"active"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">// field type specific modifiers can also be used</span>
record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"slug:autogenerate"</span><span class="token punctuation">,</span> <span class="token string">"post-"</span><span class="token punctuation">)</span>

<span class="token comment">// new files must be one or a slice of filesystem.File values</span>
<span class="token comment">//</span>
<span class="token comment">// note1: see all factories in /jsvm/modules/_filesystem.html</span>
<span class="token comment">// note2: for reading files from a request event you can also use e.findUploadedFiles("fileKey")</span>
<span class="token keyword">let</span> f1 <span class="token operator">=</span> $filesystem<span class="token punctuation">.</span><span class="token function">fileFromPath</span><span class="token punctuation">(</span><span class="token string">"/local/path/to/file1.txt"</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> f2 <span class="token operator">=</span> $filesystem<span class="token punctuation">.</span><span class="token function">fileFromBytes</span><span class="token punctuation">(</span><span class="token string">"test content"</span><span class="token punctuation">,</span> <span class="token string">"file2.txt"</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> f3 <span class="token operator">=</span> $filesystem<span class="token punctuation">.</span><span class="token function">fileFromURL</span><span class="token punctuation">(</span><span class="token string">"https://example.com/file3.pdf"</span><span class="token punctuation">)</span>
record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"documents"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>f1<span class="token punctuation">,</span> f2<span class="token punctuation">,</span> f3<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// validate and persist</span>
<span class="token comment">// (use saveNoValidate to skip fields validation)</span>
$app<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">;</span></code></div> <h5 id="intercept-create-request" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#intercept-create-request" class="link-primary"> Intercept create request </a></h5> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token function">onRecordCreateRequest</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ignore for superusers</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">hasSuperuserAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// overwrite the submitted "status" field value</span>
    e<span class="token punctuation">.</span>record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">,</span> <span class="token string">"pending"</span><span class="token punctuation">)</span>

    <span class="token comment">// or you can also prevent the create event by returning an error</span>
    <span class="token keyword">let</span> status <span class="token operator">=</span> e<span class="token punctuation">.</span>record<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
        status <span class="token operator">!=</span> <span class="token string">"pending"</span> <span class="token operator">&amp;&amp;</span>
        <span class="token comment">// guest or not an editor</span>
        <span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token punctuation">.</span>auth <span class="token operator">||</span> e<span class="token punctuation">.</span>auth<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"role"</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">"editor"</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">"Only editors can set a status different from pending"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    e<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"articles"</span><span class="token punctuation">)</span></code></div> <h3 id="update-existing-record" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#update-existing-record" class="link-primary"> Update existing record </a></h3> <h5 id="update-existing-record-programmatically" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#update-existing-record-programmatically" class="link-primary"> Update existing record programmatically </a></h5> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token keyword">let</span> record <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findRecordById</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span> <span class="token string">"RECORD_ID"</span><span class="token punctuation">)</span>

record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token string">"Lorem ipsum"</span><span class="token punctuation">)</span>

<span class="token comment">// delete existing record files by specifying their file names</span>
record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"documents-"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"file1_abc123.txt"</span><span class="token punctuation">,</span> <span class="token string">"file3_abc123.txt"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// append one or more new files to the already uploaded list</span>
<span class="token comment">//</span>
<span class="token comment">// note1: see all factories in /jsvm/modules/_filesystem.html</span>
<span class="token comment">// note2: for reading files from a request event you can also use e.findUploadedFiles("fileKey")</span>
<span class="token keyword">let</span> f1 <span class="token operator">=</span> $filesystem<span class="token punctuation">.</span><span class="token function">fileFromPath</span><span class="token punctuation">(</span><span class="token string">"/local/path/to/file1.txt"</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> f2 <span class="token operator">=</span> $filesystem<span class="token punctuation">.</span><span class="token function">fileFromBytes</span><span class="token punctuation">(</span><span class="token string">"test content"</span><span class="token punctuation">,</span> <span class="token string">"file2.txt"</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> f3 <span class="token operator">=</span> $filesystem<span class="token punctuation">.</span><span class="token function">fileFromURL</span><span class="token punctuation">(</span><span class="token string">"https://example.com/file3.pdf"</span><span class="token punctuation">)</span>
record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"documents+"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>f1<span class="token punctuation">,</span> f2<span class="token punctuation">,</span> f3<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// validate and persist</span>
<span class="token comment">// (use saveNoValidate to skip fields validation)</span>
app<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span><span class="token punctuation">;</span></code></div> <h5 id="intercept-update-request" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#intercept-update-request" class="link-primary"> Intercept update request </a></h5> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token function">onRecordUpdateRequest</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ignore for superusers</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">hasSuperuserAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// overwrite the submitted "status" field value</span>
    e<span class="token punctuation">.</span>record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">,</span> <span class="token string">"pending"</span><span class="token punctuation">)</span>

    <span class="token comment">// or you can also prevent the create event by returning an error</span>
    <span class="token keyword">let</span> status <span class="token operator">=</span> e<span class="token punctuation">.</span>record<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
        status <span class="token operator">!=</span> <span class="token string">"pending"</span> <span class="token operator">&amp;&amp;</span>
        <span class="token comment">// guest or not an editor</span>
        <span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token punctuation">.</span>auth <span class="token operator">||</span> e<span class="token punctuation">.</span>auth<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"role"</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">"editor"</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BadRequestError</span><span class="token punctuation">(</span><span class="token string">"Only editors can set a status different from pending"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    e<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"articles"</span><span class="token punctuation">)</span></code></div> <h3 id="delete-record" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#delete-record" class="link-primary"> Delete record </a></h3> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token keyword">let</span> record <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findRecordById</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span> <span class="token string">"RECORD_ID"</span><span class="token punctuation">)</span>

$app<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span></code></div> <h3 id="transaction" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#transaction" class="link-primary"> Transaction </a></h3> <p>To execute multiple queries in a transaction you can use
    <a href="https://pocketbase.io/jsvm/functions/_app.runInTransaction.html" target="_blank" rel="noopener noreferrer"><code>$app.runInTransaction(fn)</code></a>
    .</p> <p>The DB operations are persisted only if the transaction completes without throwing an error.</p> <p>It is safe to nest <code>runInTransaction</code> calls as long as you use the callback's
    <code>txApp</code> argument.</p> <div class="alert alert-info m-b-xs"><div class="icon"><i class="ri-information-line"></i></div> <div class="content"><p>Inside the transaction function always use its <code>txApp</code> argument and not the original
            <code>$app</code> instance because we allow only a single writer/transaction at a time and it could
            result in a deadlock.</p> <p>To avoid performance issues, try to minimize slow/long running tasks such as sending emails,
            connecting to external services, etc. as part of the transaction.</p></div></div> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token keyword">let</span> titles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"title1"</span><span class="token punctuation">,</span> <span class="token string">"title2"</span><span class="token punctuation">,</span> <span class="token string">"title3"</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> collection <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findCollectionByNameOrId</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">)</span>

$app<span class="token punctuation">.</span><span class="token function">runInTransaction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">txApp</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// create new record for each title</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> title <span class="token keyword">of</span> titles<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> record <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Record</span><span class="token punctuation">(</span>collection<span class="token punctuation">)</span>

        record<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span>

        txApp<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>record<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></div> <h3 id="programmatically-expanding-relations" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#programmatically-expanding-relations" class="link-primary"> Programmatically expanding relations </a></h3> <p>To expand record relations programmatically you can use
    <a href="https://pocketbase.io/jsvm/functions/_app.expandRecord.html" target="_blank" rel="noopener noreferrer"><code>$app.expandRecord(record, expands, customFetchFunc)</code></a>
    for single or
    <a href="https://pocketbase.io/jsvm/functions/_app.expandRecords.html" target="_blank" rel="noopener noreferrer"><code>$app.expandRecords(records, expands, customFetchFunc)</code></a>
    for multiple records.</p> <p>Once loaded, you can access the expanded relations via
    <a href="https://pocketbase.io/jsvm/interfaces/core.Record.html#expandedOne" target="_blank" rel="noopener noreferrer"><code>record.expandedOne(relName)</code></a>
    or
    <a href="https://pocketbase.io/jsvm/interfaces/core.Record.html#expandedAll" target="_blank" rel="noopener noreferrer"><code>record.expandedAll(relName)</code> methods.</a></p> <p>For example:</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token keyword">let</span> record <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findFirstRecordByData</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span> <span class="token string">"slug"</span><span class="token punctuation">,</span> <span class="token string">"lorem-ipsum"</span><span class="token punctuation">)</span>

<span class="token comment">// expand the "author" and "categories" relations</span>
$app<span class="token punctuation">.</span><span class="token function">expandRecord</span><span class="token punctuation">(</span>record<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token string">"categories"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token comment">// print the expanded records</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span><span class="token function">expandedOne</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span><span class="token function">expandedAll</span><span class="token punctuation">(</span><span class="token string">"categories"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></div> <h3 id="check-if-record-can-be-accessed" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#check-if-record-can-be-accessed" class="link-primary"> Check if record can be accessed </a></h3> <p>To check whether a custom client request or user can access a single record, you can use the
    <a href="https://pocketbase.io/jsvm/functions/_app.canAccessRecord.html" target="_blank" rel="noopener noreferrer"><code>$app.canAccessRecord(record, requestInfo, rule)</code></a>
    method.</p> <p>Below is an example of creating a custom route to retrieve a single article and checking the request
    satisfy the View API rule of the record collection:</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token function">routerAdd</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"/articles/{slug}"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> slug <span class="token operator">=</span> e<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">pathValue</span><span class="token punctuation">(</span><span class="token string">"slug"</span><span class="token punctuation">)</span>

    <span class="token keyword">let</span> record <span class="token operator">=</span> e<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">findFirstRecordByData</span><span class="token punctuation">(</span><span class="token string">"articles"</span><span class="token punctuation">,</span> <span class="token string">"slug"</span><span class="token punctuation">,</span> slug<span class="token punctuation">)</span>

    <span class="token keyword">let</span> canAccess <span class="token operator">=</span> e<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">canAccessRecord</span><span class="token punctuation">(</span>record<span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">requestInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> record<span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>viewRule<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canAccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ForbiddenError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> e<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> record<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></div> <h3 id="generating-and-validating-tokens" class="heading-link "><a href="https://pocketbase.io/docs/js-records/#generating-and-validating-tokens" class="link-primary"> Generating and validating tokens </a></h3> <p>PocketBase Web APIs are fully stateless (aka. there are no sessions in the traditional sense) and an auth
    record is considered authenticated if the submitted request contains a valid
    <code>Authorization: TOKEN</code>
    header
    <em>(see also <a href="https://pocketbase.io/docs/js-routing/#builtin-middlewares">Builtin auth middlewares</a> and
        <a href="https://pocketbase.io/docs/js-routing/#retrieving-the-current-auth-state">Retrieving the current auth state from a route</a>
        )</em>
    .</p> <p>If you want to issue and verify manually a record JWT (auth, verification, password reset, etc.), you
    could do that using the record token type specific methods:</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token keyword">let</span> token <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">newAuthToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> token <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">newVerificationToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> token <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">newPasswordResetToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> token <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">newEmailChangeToken</span><span class="token punctuation">(</span>newEmail<span class="token punctuation">)</span>

<span class="token keyword">let</span> token <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">newFileToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// for protected files</span>

<span class="token keyword">let</span> token <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token function">newStaticAuthToken</span><span class="token punctuation">(</span>optCustomDuration<span class="token punctuation">)</span> <span class="token comment">// non-refreshable auth token</span></code></div> <p>Each token type has its own secret and the token duration is managed via its type related collection auth
    option (<em>the only exception is <code>newStaticAuthToken</code></em>).</p> <p>To validate a record token you can use the
    <a href="https://pocketbase.io/jsvm/functions/_app.findAuthRecordByToken.html" target="_blank" rel="noopener noreferrer"><code>$app.findAuthRecordByToken</code></a>
    method. The token related auth record is returned only if the token is not expired and its signature is valid.</p> <p>Here is an example how to validate an auth token:</p> <div class="code-wrapper m-b-sm prism-light svelte-1qrji6i"><code class="svelte-1qrji6i"><span class="token keyword">let</span> record <span class="token operator">=</span> $app<span class="token punctuation">.</span><span class="token function">findAuthRecordByToken</span><span class="token punctuation">(</span><span class="token string">"YOUR_TOKEN"</span><span class="token punctuation">,</span> <span class="token string">"auth"</span><span class="token punctuation">)</span></code></div></div> <hr> <div class="docs-footer svelte-1dbn67j" data-pagefind-ignore=""><a href="https://pocketbase.io/docs/js-database" class="btn btn-secondary btn-prev svelte-1dbn67j"><i class="ri-arrow-left-line"></i> <span class="txt">Prev: Database</span></a> <a href="https://pocketbase.io/docs/js-collections" class="btn btn-outline btn-expanded btn-next svelte-1dbn67j"><span class="txt">Next: Collection operations</span> <i class="ri-arrow-right-line"></i></a></div></div></main> <footer class="page-footer"><div class="wrapper wrapper-lg"><div class="primary-bar"><nav class="footer-col links"><a href="https://pocketbase.io/faq" class="link-item">FAQ</a> <a href="https://github.com/pocketbase/pocketbase/discussions" class="link-item" target="_blank" rel="noopener noreferrer">Discussions</a> <a href="https://pocketbase.io/docs" class="link-item">Documentation</a></nav> <nav class="footer-col links"><a href="https://github.com/pocketbase/js-sdk" class="link-item" target="_blank" rel="noopener noreferrer">JavaScript SDK</a> <a href="https://github.com/pocketbase/dart-sdk" class="link-item" target="_blank" rel="noopener noreferrer">Dart SDK</a></nav> <div class="footer-col socials"><div class="watermark-logo">Pocket<strong>Base</strong></div> <a href="mailto:support@pocketbase.io" class="btn btn-secondary btn-circle btn-hint social-item" aria-label="Contact support"><i class="ri-mail-line"></i></a> <a href="https://github.com/pocketbase/pocketbase" rel="noopener noreferrer" target="_blank" class="btn btn-secondary btn-circle btn-hint social-item" aria-label="Go to GitHub"><i class="ri-github-line"></i></a></div></div> <div class="secondary-bar"><div class="terms"><span class="txt"> 2023-2025 Pocket<strong>Base</strong></span> <span class="gopher-credit">The Gopher artwork is from
                    <a href="https://github.com/marcusolsson/gophers" target="_blank" rel="noreferrer noopener">marcusolsson/gophers</a></span></div> <div class="flex-fill"></div> <div class="credit">Crafted by <a href="https://gani.bg/" target="_blank" rel="noopener noreferrer" class="link-hint"><strong>Gani</strong></a></div></div></div></footer> <button type="button" class="btn btn-lg btn-circle btn-secondary scroll-to-top svelte-1fubo8o scroll-top-active" arial-label="Go to top"><i class="ri-arrow-up-line"></i></button> <div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0px; top: 0px; clip: rect(0px, 0px, 0px, 0px); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px;">Extend with JavaScript - Record operations - Docs - PocketBase</div></div>


<div class="app-tooltip"></div></body></html>